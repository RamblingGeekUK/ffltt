<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Forked From LTT</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>
<body>
  <div id="shared-navbar"></div>
  <div class="container py-5">
    <h1 class="mb-2 text-center" style="text-shadow: 0 0 12px #8f94fb, 0 0 20px #8f94fb;">Fully Forked</h1>    
    <div id="videoGrid" class="row mt-2" style="display:none;"></div>
  </div>
  <div id="shared-modals"></div>
  <footer class="text-center py-4 mt-5 stylish-footer">
    <p>This site is not affiliated with Linus Media Group in any way! Just another side project from a fan.</p>
    <p>All videos are the property of their respective owners.</p>
    <div id="cacheInfo" class="mt-3" style="font-size:0.95em; color:#aaa;"></div>
    <script>
      // Fetch cache info from API and display last updated time
      fetch('/api/cache-info')
        .then(res => res.json())
        .then(data => {
          if (data && data.lastUpdated && data.ttl) {
        const last = new Date(data.lastUpdated);
        const now = new Date();
        const diffMs = now - last;
        const diffHrs = Math.floor(diffMs / 3600000);
        const diffMin = Math.floor((diffMs % 3600000) / 60000);
        const next = new Date(last.getTime() + data.ttl * 1000);
        document.getElementById('cacheInfo').textContent =
          `Cache last updated: ${last.toLocaleString()} (${diffHrs}h ${diffMin}m ago). Next update: ${next.toLocaleString()}.`;
          }
        })
        .catch(() => {});
        </script>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
  <script>
    // Dynamically load shared navbar
    fetch('navbar.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('shared-navbar').innerHTML = html;
        // Set active nav item
        document.getElementById('nav-fullyforked')?.classList.add('active');
      });
    // Dynamically load shared modals
    fetch('modals.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('shared-modals').innerHTML = html;
      });
  </script>
  <script src="modals.js"></script>
</body>
</html>
